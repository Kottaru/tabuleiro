:root{
  --bg: #0f172a;
  --panel: #111827;
  --text: #e5e7eb;
  --muted: #94a3b8;
  --light: #f8fafc;
  --dark: #0b1225;
  --white-square: #e5e7eb;
  --black-square: #64748b;
  --highlight: #22c55e55;
  --capture: #ef444455;
  --castle: #3b82f655;
  --enpassant: #f59e0b55;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial;
  background: radial-gradient(900px 600px at 20% 0%, var(--dark), var(--bg));
  color: var(--text);
}

.topbar{
  display:flex; flex-wrap:wrap; gap:.5rem 1rem; align-items:center; justify-content:space-between;
  padding:1rem 1.5rem; background:var(--panel); border-bottom:1px solid #1f2937;
}
.topbar h1{margin:0; font-size:1.2rem}
.controls{display:flex; flex-wrap:wrap; align-items:center; gap:.5rem}
button{
  background:#3b82f6; color:white; border:none; padding:.5rem .75rem; border-radius:.5rem; cursor:pointer; font-weight:600;
}
button:hover{filter:brightness(1.1)}
.turn{color:var(--muted)}
.status{margin-left:.5rem; font-weight:600}

.main{
  display:grid; grid-template-columns: minmax(320px, 1fr) 320px; gap:1rem; padding:1rem 1.5rem;
  min-height:calc(100vh - 140px);
}

.board{
  width:min(90vmin, 720px); height:min(90vmin, 720px);
  display:grid; grid-template-columns:repeat(8, 1fr); grid-template-rows:repeat(8, 1fr);
  border:1px solid #1f2937; border-radius:.75rem; overflow:hidden; background:#0b1225; position:relative;
}

.square{
  position:relative; display:grid; place-items:center; font-size:0;
}
.square.light{ background: var(--white-square); }
.square.dark{ background: var(--black-square); }

.coord{
  position:absolute; font-size:.7rem; color:#0f172a99; user-select:none;
}
.coord.file{ bottom:4px; right:6px; }
.coord.rank{ top:4px; left:6px; }

.piece{
  width:85%; height:85%; display:grid; place-items:center;
  filter: drop-shadow(0 2px 2px rgba(0,0,0,.3));
  cursor:grab; user-select:none;
}
.piece:active{ cursor:grabbing; }

.hint{
  position:absolute; width:24px; height:24px; border-radius:50%;
  border:2px solid rgba(255,255,255,.75);
}
.hint.legal{ background: var(--highlight); }
.hint.capture{ background: var(--capture); }
.hint.castle{ background: var(--castle); }
.hint.enpassant{ background: var(--enpassant); }

.sidebar{
  background:var(--panel); border:1px solid #1f2937; border-radius:.75rem; padding:1rem; display:flex; flex-direction:column; gap:1rem;
}
.sidebar h2, .sidebar h3{ margin:.25rem 0; font-size:1rem }
#log{ list-style:none; padding:0; margin:0; max-height:50vh; overflow:auto }
#log li{ padding:.4rem .5rem; border-bottom:1px dashed #1f2937; color:#cbd5e1; font-size:.9rem }

.footer{
  padding:1rem 1.5rem; color:var(--muted); border-top:1px solid #1f2937; background:var(--panel);
}

/* Responsivo */
@media (max-width: 900px){
  .main{ grid-template-columns: 1fr; }
  .board{ width:96vmin; height:96vmin; }
}
